---
title: Maven
subtitle: Building Java Applications with Maven
sequence: 100
show-headings-in-nav: true
---
[Apache Maven](https://maven.apache.org/) (or just "Maven") is the most common build, packaging, and deployment tool for [Java](java). Maven began as an attempt to standardize the build processes in the [Jakarta Turbine project](https://turbine.apache.org/), which consisted of multiple projects, build scripts, and JAR output files -- but Maven made it easy to publish project information and share JAR files.

The original objectives of Maven were:

{.docs}
    - Simplifying the build process
    - Providing a uniform build system
    - Providing quality project information
    - Providing guidelines for best practices development
    - Allowing transparent migration to new features
    - All popular IDEs (Eclipse, Netbeans, IntelliJ) use Maven under the hood

## Maven Overview {#overview data-title="Maven Overview"}

Maven is a command line tool that works at a project level. In Maven, a project is conceptualized as an application or library and is defined by a POM.xml file. Maven packages projects into an artifact (JAR, WAR, EAR, etc.), and artifacts may be published to a local repository on a developer's machine or build server or to a enterprise repository such as [ProGet](/proget) to share them with other developers.

### Archetypes

A Maven archetype is a project template used to create Java projects for web applications, Jakarta EE projects, plugins for Maven, "sites" (i.e., a documentation site included in the maven artifact), or custom archetypes. Maven ships with a default set of archetypes, and additional archetypes can be downloaded from a Maven repository.


### Build Lifecycle

A build lifecycle in Maven consists of a series of phases, and each phase is bound to 0 or more goals. A "goal" in Maven is essentially an individual build task. Executing a phase will implicitly execute all phases before it in the lifecycle (e.g., `compile` must run before `test`). You can find more information on various lifecycles [here](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference).

The most common way to associate goals with phases is to configure packaging element in your POM file under the `<packaging>` element. Some of the valid packaging values are `jar` (the default), `war`, `ear`, and `pom`.


## Building with Maven {#building data-title="Building"}

Once you have configured your Maven project, the general pattern for building any type of Maven application involves: 
  - Run `mvn clean package`
    - the `clean` phase will remove all files generated by the previous build, and the `package` phase will execute all necessary phases to generate an artifact
    - for sites, it would be `mvn clean site` since the package phase does not exist for sites

The build process can be customized by referencing a specific lifecycle in the POM file or by executing specific goals instead of phases directly.  To execute goals directly, you would run:
```
mvn clean:clean resources:resources compiler:compile jar:jar
```


## Executing Maven with BuildMaster {#buildmaster data-title="Maven in BuildMaster"}

To be execute Maven builds in BuildMaster:

{.docs}
- Maven must be installed on the build server *prior to* executing any of these commands
- the Java extension must be installed in BuildMaster
- *Do not* execute the `install` phase
    - When deploying with BuildMaster, we recommend only *packaging* artifacts because the package output will be captured and deployed as a BuildMaster artifact

Use the following OtterScript in a deployment plan to execute Maven in BuildMaster:
```
Java::Execute-Maven
(
    GoalsAndPhases: "clean package"
);
```
- Running Maven directly:
```
Exec "mvn clean package";
```

Example plan that gets the latest source code from Git and captures a Maven artifact as a BuildMaster artifact:
```
Git::Get-Source
(
    RepositoryUrl: https://github.com/Inedo/ProfitCalcJava.git,
    Branch: master
);

Java::Execute-Maven
(
    GoalsAndPhases: "clean package",
    In: ProfitCalcJava
);

Create-Artifact ProfitCalcJava
(
    From: ProfitCalcJava\target
);
```
