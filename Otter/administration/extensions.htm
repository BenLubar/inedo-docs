<html>
<head>
    <title>Extending Otter</title>
    <meta name="subtitle" content="Extending Otter" />
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <meta name="sequence" content="500" />
    <meta name="keywords" content="otter,sdk" />
    <meta name="show-headings-in-nav" content="true" />
</head>
<body>
    <p>
        A lot of Otter's functionality is delivered through extensions, a type of pluggable component library that
        provides both core capabilities as well as integrations with third-party tools. You can see what extensions
        are loaded, as well as install new, or upgrade extensions from the Admin > Extensions Page within your instance
        of Otter.
    </p>
    <h2 id="built-in" data-title="Built-In Extensions">Built-Extensions</h2>
    <p>
        Otter ships with three required extensions: <i>InedoCore</i>, <i>Windows</i>, and <i>Linux</i>. When these are not installed, you will receive warnings in the UI, and the software will be missing core functionality.
    </p>

    <h2 id="updates" data-title="Extension Updates">New Extensions and Updates</h2>
    <p>
        Otter will automatically connect to the <a href="/den">inedo.com/den</a>, and notify you of newly available extensions and updates. You can download and install these from the same extensions overview page.
    </p>
    <div class="attention best-practice">
        <img src="/resources/images/icons/best-practices.png" />
        <p>
            A connection to inedo.com is recommended, but not required. If your Otter instance cannot connect to inedo.com/den, then you will need to manually install and update extensions.
        </p>
    </div>

    <h2 id="creating" data-title="Creating an Extension">Creating Your Own Extension</h2>
    <p>
        Although you can already do <em>anything</em> in Otter with <a href="/support/documentation/otter/core-concepts/assets">Script Assets</a> and the other tightly-integrated <a href="/support/documentation/otter/modeling-infrastructure/powershell">PowerShell features</a>, you can also build an <em>Otter Extension</em> to add additional components and functionality into your Otter installation.
    </p>
    <p>
        A lot of Otter's functionality is delivered through built-in extensions, and you can add several types of components by simply <a href="/support/documentation/various/inedo-sdk/creating">creating an extension</a> that's built against the  <a href="/support/documentation/various/inedo-sdk/the-sdk">Inedo SDK</a>. Here's what you can extend:
    </p>
    <ul class="docs">
        <li><b>Configurations</b> - information collected from a server, or a template for desired configuration</li>
        <li><b>Operations</b> - be it a simple Execute operation, or an Ensure operation</li>
        <li><b>Raft Repositories</b> - backing store for plans and assets</li>
        <li><b>Resource Credentials</b> - a secret</li>
        <li><b>User Directories</b> - authentication and privileges</li>
        <li><b>Variable Functions</b> - used in plans to provide or manipulate values</li>
    </ul>
    <h2>
        Script Assets vs Custom Extensions
    </h2>
    <p>
        Scripts are significantly easier to develop and manage: just write, test, then upload (or commit), and your script will be available for execution in a plan as any other operation. For most things you'd need to do in a plan, that's perfectly adequate.
    </p>
    <p>
        Extensions are a bit more involved, but allow you to build components other than operations, and provide maximum flexibility for build operations. You can also incorporate third-party libraries into your extension, and use the powerful libraries already built-in to the Inedo SDK.
    </p>
    <ul class="docs">
        <li><b>Direct Agent Access</b> - with components from <a href="/support/sdk-reference/inedosdk/Inedo.Agents">Inedo.Agents</a>, you can build Operations that will be faster and scale better than using scripting runtime. </li>
        <li><b>Rich Descriptions</b> - the <a href="/support/sdk-reference/inedosdk/Inedo.Documentation">Inedo.Documentation</a> components enable you to describe Operations in a plan using a consistent, visually-rich description so that anyone reading it will see, at-a-glance, what the operation is configured to do.</li>
    </ul>
    <p>
        Additionally, extension may be easier to unit test and mock using the testing framework of your choice.
    </p>

    <h2 id="extension-v1" data-title="Legacy Extensions">Extensions in Otter v1</h2>
    <p>
        If you'd like to create an extension that supports Otter 1.7 or earlier, you'll need to use the Otter SDK. Although extensions created with the Otter SDK are not compatible with Otter 2.0 and later, they are managed in the same way (under Admin > Extensions).
    </p>
    <p>
        Creating an extension is quite similar: just create a .NET 4.5 project that references the Inedo.Otter.SDK NuGet package from nuget.org and implement the desired extensibility points.
    </p>
    <p>
        See the <a href="/support/sdk-reference/otter">Otter v1 SDK Reference</a> for more information.
    </p>
    <p>
        To deploy the extension to Otter v1, add the compiled extension .dll to a zip file of the same name, with the extension .otterx. note that the .otterx file must have the same file name as the primary assembly it contains; for example, MyExtension.otterx must contain MyExtension.dll
    </p>
    <p>
        You can verify that your extension has loaded correctly by viewing the Extensions Overview page from within the Otter v1 Administration section. From there, you will see all the extensions that are loaded in Otter v1, and the services they provide.
    </p>
</body>
</html>